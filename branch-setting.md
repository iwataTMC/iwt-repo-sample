## mainブランチの保護の設定

このプロジェクトでは、コードの品質を保ち、誤って壊れたコードが本番（main）に混ざるのを防ぐため、**mainブランチへの直接のコミットを禁止**しています。

新機能の追加や修正を行う際は、以下の手順で設定を行ってください。

### ステップ1：GitHubのリポジトリ設定を開く

1. GitHub上のリポジトリ画面上部にある **[Settings]** タブをクリックします。
2. 左サイドメニューの [Code and automation] セクションにある **[Branches]** を選択します。

### ステップ2：保護ルールを追加する

1. [Branch protection rules] の横にある **[Add branch protection rule]** ボタンをクリックします。
2. **[Branch name pattern]** に `main` と入力します。

### ステップ3：保護項目のチェック（推奨設定）

以下の項目にチェックを入れることで、安全な運用が可能になります。

- [ ] Require a pull request before merging
    - これにチェックを入れると、直接の `git push` ができなくなり、必ず Pull Request (PR) を通す必要があります。
- [ ] Require approvals
    - 誰かの承認（Approve）がないとマージできないようにしたい場合は、ここにチェックを入れます（1名以上を推奨）。


- [ ] Require status checks to pass before merging
    - GitHub Actions（テストなど）を設定している場合、テストが成功しないとマージできないように制限できます。

- [ ] Do not allow bypassing the above settings
    - 管理者（あなた）であっても、ルールを無視して強制マージできないようにします。自分への「うっかり防止」として非常に有効です。


### ステップ4：保存

1. 画面一番下の **[Create]**（または [Save changes]）ボタンをクリックして完了です！

---

### なぜこれを行うのか？

- **ミスの防止:** 間違えて `main` ブランチで作業してしまい、不完全なコードをアップロードしてしまうのを防ぎます。
- **コードレビューの習慣化:** PRを出すことで、Issue（課題）とコードの紐付けが明確になり、「なぜこの変更をしたか」が履歴として残りやすくなります。
- **自動化の準備:** 今後導入する **semantic-release** などは、PRがマージされたタイミングで動くため、この保護設定が前提となります。

---

## 補足

この設定をしておくと、将来的に GitHub Actions でテスト（Linterのチェックなど）を組んだ際、「テストが通っていないPRはマージボタンが押せない」というガードレールを敷くことができます。
